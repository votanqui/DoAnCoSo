@model  PagedList.IPagedList<DoAn_21806064393.Models.User>
@using PagedList.Mvc;
@{
    ViewBag.Title = "Danh sách người dùng";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<h2 style="color: black; font-weight: bold;">Danh sách người dùng</h2>
<div class="table-responsive">
    <form method="post" style="display:flex;" action="@Url.Action("SearchUser", "Admin")">
        <input class="form-control mr-sm-2" style="width:auto;" type="search" name="searchKeyword" placeholder="Nhập từ khóa tìm kiếm" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Tìm kiếm username</button>
    </form>
    @if (TempData["SuccessThemUser"] != null)
    {
        <div class="alert alert-success">
            @TempData["SuccessThemUser"]
        </div>
    }
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Tên tài khoản</th>
                <th>Mật khẩu</th>
                <th>Vai trò</th>
                <th>Tiền</th>
                <th>Email</th>
                <th>Hành động</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.username</td>
                    <td>@item.password</td>
                    <td>@(item.roles == 0 ? "Người dùng" : "Quản trị viên")</td>
                    <td class="sotien">@String.Format("{0:N0}", item.price)</td>

                    <td>@item.gmail</td>
                    <td style="display:flex;">
                        @Html.ActionLink("Chỉnh sửa", "EditUser", new { id = item.id_user }, new { @class = "btn btn-primary btn-sm" })

                        <form id="deleteForm_@item.id_user" action="@Url.Action("DeleteUser", "Admin", new { id = item.id_user })" method="post">
                            @Html.AntiForgeryToken()
                            <button type="button" class="btn btn-danger btn-sm" onclick="confirmDelete('@item.id_user')">Xóa</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<div>

    <div class="MenuTrang">
        @Html.PagedListPager(Model, page => Url.Action("Index", new
        {
            page = page
        }))
    </div>
</div>
<style>
    .header {
        color: #f7df1e; /* Màu chữ đen */
        text-align: center;
        padding: 0;
        margin-top: 30px;
    }


    .MenuTrang {
        margin-top: 10px;
        margin-bottom: 10px;
    }

        .MenuTrang ul.pagination {
            display: inline-block;
            padding-left: 0;
            margin: 0;
            border-radius: 4px;
        }

            .MenuTrang ul.pagination li {
                display: inline;
            }

                .MenuTrang ul.pagination li a,
                .MenuTrang ul.pagination li span {
                    padding: 6px 12px;
                    text-decoration: none;
                    border: 1px solid #ddd;
                    margin: 2px;
                    border-radius: 4px;
                }

                .MenuTrang ul.pagination li.active span {
                    background-color: #007bff;
                    color: #fff;
                    border-color: #007bff;
                }

                .MenuTrang ul.pagination li a:hover:not(.active) {
                    background-color: #FFFF33;
                    color: black;
                }
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    function confirmDelete(id) {
        if (confirm("Bạn Có Thật Sự Muốn Xóa Không?")) {
            document.getElementById("deleteForm_" + id).submit();
        }
    }
</script>